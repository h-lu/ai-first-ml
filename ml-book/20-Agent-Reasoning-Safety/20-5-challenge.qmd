# 20.5 Challenge: 设计你自己的Agent

::: {.callout-warning title="终极挑战：设计一个"新品研发助理Agent""}

恭喜你！你已经掌握了构建从简单到复杂、从单体到团队、从纯自动到人机协同的AI Agent的全套核心技能。

现在，是时候将所有知识融会贯通，接受我们全书的终极挑战了。这个挑战将不再提供任何代码，它是一个纯粹的**系统设计**任务，旨在检验你是否已经真正具备了**Agentic Thinking**的能力。

---

### 你的任务

作为"咖啡豆奇旅"的首席AI官，CEO交给你一个极富挑战性的新任务：

> "我希望你能设计一个**全自动的新品研发助理Agent**。它的工作是每周自动运行一次，分析过去一周所有线上渠道的用户评论，并自动生成一份图文并茂的"新品研发方向建议周报"。"

你需要设计这个复杂的Agent系统。你的最终交付物是一份清晰的**设计文档**，你需要用AI协同的方式来完成它。

---

### 设计要求

你的设计文档需要至少包含以下几个部分：

1.  **系统概览 (System Overview):**
    *   用一句话描述你的Agent系统的核心目标。
    *   用Mermaid绘制出整个系统的**最高层级**的流程图(Graph)。

2.  **团队成员与职责 (Agent Roles & Responsibilities):**
    *   描述你计划设立几个AI Agent？
    *   为每个Agent命名（如"数据分析师Agent"、"市场洞察Agent"、"报告撰写Agent"等）。
    *   清晰地定义每个Agent的核心职责。

3.  **工具箱设计 (Toolkit Design):**
    *   为每一个Agent设计它需要使用的专属工具。
    *   以函数签名的形式（如 `fetch_reviews_from_social_media(platform: str, days: int) -> List[str]`）清晰地列出每个工具。
    *   简要描述每个工具的功能。

4.  **协作流程详解 (Collaboration Workflow):**
    *   详细描述当这个周常任务启动时，任务是如何在你的AI团队中流转的。
    *   第一步是什么？主管Agent如何决策？数据分析师Agent拿到数据后会做什么？它的输出又会如何触发市场洞察Agent的行动？报告最终由谁来合成？

5.  **关键挑战与解决方案 (Challenges & Solutions):**
    *   在设计过程中，你预见到可能会遇到哪些挑战？（例如：如何处理相互矛盾的用户评论？如何让报告的图表自动生成？如何确保报告的观点不是胡编乱造？）
    *   针对每个挑战，提出你初步的解决方案。

---

### AI协同指南

这个任务的复杂度很高，**强烈建议你和你的AI助手结对完成**。

你可以分步向它提问：

*   **第一步 (头脑风暴):** "我要设计一个分析用户评论、生成研发周报的Agent系统，请和我一起进行头脑风暴，讨论一下我们大概需要哪几个角色（Agent）？"
*   **第二步 (工具设计):** "针对'数据分析师Agent'，你认为它需要哪些工具来完成任务？请帮我设计出这些工具的Python函数签名。"
*   **第三步 (流程设计):** "角色和工具都设计好了，现在请帮我用Mermaid画出它们协作的流程图。"
*   **第四步 (文档生成):** "这是我们的设计草稿（粘贴之前的讨论结果），请帮我将它整理成一份格式清晰、专业的系统设计文档。"

完成这个终极挑战，标志着你已经完成了从"AI功能的使用者"到"AI系统的设计者"的终极蜕变。

**你的旅程，才刚刚开始。**
::: 